import{a as e,u as s,j as t}from"./index-Babt8UfR.js";import{l,h as a,r as i}from"./vendor-react-ET7pSeaL.js";import{a as r,d as n}from"./services-P15qPlA6.js";import{A as c,n as d,u as o,M as x,o as m}from"./vendor-ui-CCR3b1TD.js";import"./vendor-supabase-DKeZICmP.js";const u=()=>{const{setlistId:u}=l(),{user:h}=e(),{setPageTitle:b}=s(),j=a(),[p,f]=i.useState(!0),[N,g]=i.useState(null),[v,y]=i.useState(null),[w,S]=i.useState([]);i.useEffect(()=>{C()},[u]);const C=async()=>{f(!0),g(null);try{const e=await r.getSetlistById(u);y(e),S(e.sets||[]),b(e.name)}catch(e){g(e.message||"Failed to load setlist")}finally{f(!1)}};return p?t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsx("div",{className:"bg-slate-800 rounded-xl p-6 border border-slate-700",children:t.jsx("p",{className:"text-center text-slate-300",children:"Loading setlist..."})})}):N||!v?t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"bg-red-900/50 border border-red-700 text-red-200 px-4 py-3 rounded-lg mb-4",children:[t.jsx("strong",{className:"font-bold",children:"Error!"}),t.jsxs("span",{className:"block sm:inline",children:[" ",N||"Setlist not found"]})]})}):t.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[t.jsx("div",{className:"bg-slate-800 rounded-xl p-4 lg:p-6 border border-slate-700",children:t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("button",{onClick:()=>j("/setlists"),className:"p-2 text-slate-400 hover:text-slate-300 transition-colors",children:t.jsx(c,{size:20})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-100",children:v.name}),t.jsxs("p",{className:"text-slate-400",children:[w.length," set",1!==w.length?"s":""]})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[t.jsxs("button",{onClick:()=>j(`/setlists/edit/${u}`),className:"inline-flex items-center px-4 py-2 bg-slate-600 text-slate-100 rounded-lg hover:bg-slate-500 transition-colors",children:[t.jsx(d,{size:18,className:"mr-2"}),"Edit Setlist"]}),t.jsxs("button",{onClick:()=>j(`/setlists/${u}/sets/add`),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx(o,{size:18,className:"mr-2"}),"Create New Set"]})]})]})}),t.jsx("div",{className:"bg-slate-800 rounded-xl p-4 lg:p-6 border border-slate-700",children:0===w.length?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(x,{className:"mx-auto h-12 w-12 text-slate-400 mb-4"}),t.jsx("p",{className:"text-slate-300 text-lg mb-2",children:"No sets in this setlist"}),t.jsx("p",{className:"text-slate-400 mb-6",children:"Create your first set to get started"}),t.jsxs("button",{onClick:()=>j(`/setlists/${u}/sets/add`),className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[t.jsx(o,{size:20,className:"mr-2"}),"Create Set"]})]}):t.jsx("div",{className:"space-y-4",children:w.map((e,s)=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-700 rounded-lg border border-slate-600 hover:bg-slate-600 transition-colors",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:s+1}),t.jsxs("div",{children:[t.jsx("button",{onClick:()=>j(`/setlists/${u}/sets/${e.id}`),className:"text-lg font-medium text-blue-400 hover:text-blue-300 transition-colors text-left",children:e.name}),t.jsxs("p",{className:"text-sm text-slate-400",children:["Created ",new Date(e.created_at).toLocaleDateString()]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>j(`/setlists/${u}/sets/${e.id}/edit`),className:"p-2 text-blue-400 hover:text-blue-300 transition-colors",title:"Edit Set",children:t.jsx(d,{size:18})}),t.jsx("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this set?")){f(!0),g(null);try{await n.deleteSet(e),await C()}catch(s){g(s.message||"Failed to delete set")}finally{f(!1)}}})(e.id),className:"p-2 text-red-400 hover:text-red-300 transition-colors",title:"Delete Set",children:t.jsx(m,{size:18})})]})]},e.id))})})]})};export{u as default};
