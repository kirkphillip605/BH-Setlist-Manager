const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/services-P15qPlA6.js","assets/vendor-supabase-DKeZICmP.js","assets/vendor-react-ET7pSeaL.js","assets/Dashboard-B6td6xMk.js","assets/pdfGenerator-Cd7u-Oa5.js","assets/vendor-pdf-PEeN9p2O.js","assets/vendor-ui-CCR3b1TD.js","assets/ManageSongs-BX220djE.js","assets/SongViewPage-B2F6rq3q.js","assets/SongFormPage-CpTxhLS8.js","assets/vendor-editor-D5iEGL9y.js","assets/ManageSetlists-Bm2rFZjz.js","assets/ManageSongCollections-CADfPqey.js","assets/SetlistFormPage-PnLbgW5L.js","assets/SetlistDetailPage-BViRWveZ.js","assets/SetFormPage-LUHG49k3.js","assets/SongSelectorModal-DQDBqQYu.js","assets/DraggableList-C0Rm0Xlq.js","assets/SongCollectionFormPage-CI_b-xST.js","assets/SongCollectionDetailPage-BysMk0pd.js","assets/SetDetailPage-BAyB4MNI.js","assets/EditProfile-BtX1j5z5.js","assets/errorHandler-B2LE5V9y.js","assets/UserManagement-Cx2JHYJ5.js","assets/Profile-C6W3ACBa.js","assets/ChangePassword-Cxse00ui.js","assets/PerformanceMode-0K8o_4eU.js"])))=>i.map(i=>d[i]);
import{_ as e}from"./vendor-supabase-DKeZICmP.js";import{e as s,f as t,a as r,r as a,R as n,u as i,L as l,O as c,N as o,h as d,i as m,j as x,k as h}from"./vendor-react-ET7pSeaL.js";import{s as u}from"./services-P15qPlA6.js";import{T as p,R as b,H as f,U as j,a as g,P as v,b as w,X as y,M as N,L as z,c as k,d as _,e as S,C as E,S as P,f as C,g as L,h as I,A as T,i as O,j as R,k as D,l as A}from"./vendor-ui-CCR3b1TD.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)}).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();var F,M,W={exports:{}},B={};var V,U=(M||(M=1,W.exports=function(){if(F)return B;F=1;var e=s(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(e,s,r){var l,c={},o=null,d=null;for(l in void 0!==r&&(o=""+r),void 0!==s.key&&(o=""+s.key),void 0!==s.ref&&(d=s.ref),s)a.call(s,l)&&!i.hasOwnProperty(l)&&(c[l]=s[l]);if(e&&e.defaultProps)for(l in s=e.defaultProps)void 0===c[l]&&(c[l]=s[l]);return{$$typeof:t,type:e,key:o,ref:d,props:c,_owner:n.current}}return B.Fragment=r,B.jsx=l,B.jsxs=l,B}()),W.exports),$={};const G=r(function(){if(V)return $;V=1;var e=t();return $.createRoot=e.createRoot,$.hydrateRoot=e.hydrateRoot,$}()),H=a.createContext(),q=()=>{const e=a.useContext(H);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Y=({children:s})=>{const[t,r]=a.useState(null),[n,i]=a.useState(!0),[l,c]=a.useState(!1),o=a.useRef(!0),d=a.useRef(null),m=()=>{d.current&&(d.current.subscription.unsubscribe(),d.current=null);try{const e=u.getChannels?.();e?.length&&e.forEach(e=>u.removeChannel(e))}catch(e){}},x=async e=>{try{const{data:s,error:t}=await u.from("users").select("*").eq("id",e.id).single();if(t){if("PGRST116"===t.code)return await h(e);throw t}return s}catch(s){return h(e)}},h=async e=>{try{const s={id:e.id,email:e.email,name:e.user_metadata?.full_name||e.user_metadata?.name||e.email.split("@")[0],user_level:e.user_metadata?.user_level||1,role:e.user_metadata?.role||null},{data:t,error:r}=await u.from("users").upsert([s],{onConflict:"id"}).select().single();return r?s:t}catch(s){return{id:e.id,email:e.email,name:e.user_metadata?.name||e.email.split("@")[0],user_level:1}}};a.useEffect(()=>{o.current=!0;return(async()=>{try{if(!u?.auth)return void r(null);const{data:{session:s},error:t}=await u.auth.getSession();if(t)r(null);else if(s?.user){const e=await x(s.user);o.current&&r(e)}else o.current&&r(null);d.current=u.auth.onAuthStateChange((s,a)=>{setTimeout(()=>(async(s,a)=>{if(o.current)if("SIGNED_OUT"!==s&&a)try{if(a?.user&&"SIGNED_OUT"!==s){const e=await x(a.user);if(o.current){r(e);const s=sessionStorage.getItem("redirectAfterLogin");if(s&&"/login"!==s){sessionStorage.removeItem("redirectAfterLogin");const e=["/","/songs","/setlists","/song-collections","/performance","/profile","/edit-profile","/change-password","/admin/users"],t=s.split("?")[0].split("/").slice(0,3).join("/");e.includes(t)||e.some(e=>s.startsWith(e))?window.location.href=s:window.location.href="/"}}}else o.current&&(r(null),"/login"===window.location.pathname||window.location.pathname.startsWith("/auth/")||(window.location.href="/login"))}catch(t){o.current&&r(null)}finally{o.current&&i(!1)}else{try{e(async()=>{const{performanceService:e}=await import("./services-P15qPlA6.js").then(e=>e.f);return{performanceService:e}},__vite__mapDeps([0,1,2])).then(({performanceService:e})=>{e.cleanupSubscriptions(),e.clearCache()})}catch(n){}try{localStorage.clear(),sessionStorage.clear()}catch(n){}o.current&&(r(null),i(!1))}})(s,a),0)})}catch(s){o.current&&r(null)}finally{o.current&&(i(!1),c(!0))}})(),()=>{o.current=!1,m()}},[]);const p={user:t,loading:n,initialized:l,signIn:async(e,s)=>{if(!u)throw new Error("Supabase unavailable");const{error:t}=await u.auth.signInWithPassword({email:e,password:s});if(t)throw new Error(t.message)},signInWithGoogle:async()=>{if(!u)throw new Error("Supabase unavailable");const{error:e}=await u.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});if(e)throw new Error(e.message)},signInWithMagicLink:async e=>{if(!u)throw new Error("Supabase unavailable");const{error:s}=await u.auth.signInWithOtp({email:e,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(s)throw new Error(s.message)},signOut:async()=>{try{if(!u)throw new Error("Supabase unavailable");try{e(async()=>{const{performanceService:e}=await import("./services-P15qPlA6.js").then(e=>e.f);return{performanceService:e}},__vite__mapDeps([0,1,2])).then(({performanceService:e})=>{e.cleanupSubscriptions(),e.clearCache()})}catch(s){}m();try{localStorage.clear(),sessionStorage.clear()}catch(s){}const{error:t}=await u.auth.signOut();if(t)throw new Error(t.message);r(null)}catch(t){r(null)}},resetPassword:async e=>{if(!u)throw new Error("Supabase unavailable");const{error:s}=await u.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/auth/reset-password`});if(s)throw new Error(s.message)},updatePassword:async e=>{if(!u)throw new Error("Supabase unavailable");const{data:s,error:t}=await u.auth.updateUser({password:e});if(t)throw new Error(t.message);return s}};return U.jsx(H.Provider,{value:p,children:s})},K=a.createContext(),J=()=>{const e=a.useContext(K);if(!e)throw new Error("usePageTitle must be used within a PageTitleProvider");return e},Q=({children:e})=>{const[s,t]=a.useState("Dashboard");return U.jsx(K.Provider,{value:{pageTitle:s,setPageTitle:t},children:e})};class X extends n.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,s){this.setState({error:e,errorInfo:s})}handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};handleGoHome=()=>{window.location.href="/"};render(){return this.state.hasError?U.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center px-4",children:U.jsxs("div",{className:"card-modern p-6 sm:p-8 w-full max-w-md text-center",children:[U.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:U.jsx(p,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),U.jsx("h2",{className:"text-2xl font-bold text-zinc-100 mb-4",children:"Something went wrong"}),U.jsx("p",{className:"text-zinc-300 mb-6",children:"An unexpected error occurred. Please try refreshing the page or return to the home page."}),!1,U.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[U.jsxs("button",{onClick:this.handleRetry,className:"inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:[U.jsx(b,{size:16,className:"mr-2"}),"Try Again"]}),U.jsxs("button",{onClick:this.handleGoHome,className:"inline-flex items-center justify-center px-4 py-2 border border-zinc-600 text-zinc-300 rounded-xl hover:bg-zinc-700 transition-colors font-medium",children:[U.jsx(f,{size:16,className:"mr-2"}),"Go Home"]})]})]})}):this.props.children}}const Z=({isOpen:e,onClose:s,collapsed:t})=>{const{user:r,signOut:n}=q(),c=i(),[o,d]=a.useState(!1),m=e=>"/"===e&&"/"===c.pathname||!("/"===e||!c.pathname.startsWith(e)),x=[{path:"/",label:"Dashboard",icon:f},{path:"/songs",label:"Songs",icon:N},{path:"/song-collections",label:"Collections",icon:z},{path:"/setlists",label:"Setlists",icon:k},{path:"/performance",label:"Performance Mode",icon:_}];return U.jsx(U.Fragment,{children:U.jsxs("div",{className:`\n        fixed inset-y-0 left-0 z-40 ${t?"w-16":"w-64 sm:w-72"} \n        transform ${e?"translate-x-0":"-translate-x-full"} \n        transition-all duration-300 ease-in-out\n        lg:translate-x-0 lg:static lg:inset-0\n        bg-zinc-900 border-r border-zinc-800\n        flex flex-col shadow-2xl safe-area-inset-top safe-area-inset-left\n      `,children:[U.jsxs("div",{className:`flex items-center ${t?"justify-center p-4":"justify-between p-4 sm:p-6"} border-b border-zinc-800`,children:[!t&&U.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[U.jsx("div",{className:"w-12 h-12 sm:w-10 sm:h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:U.jsx(g,{size:24,className:"text-white sm:w-5 sm:h-5"})}),U.jsxs("div",{children:[U.jsx("h1",{className:"text-lg sm:text-lg font-bold text-zinc-100 tracking-tight",children:"Bad Habits"}),U.jsx("p",{className:"text-xs sm:text-xs text-zinc-400",children:"Setlist Management"})]})]}),U.jsx("div",{className:"hidden lg:flex",children:U.jsx("button",{onClick:()=>{},className:"p-2 rounded-xl text-zinc-400 hover:text-zinc-100 hover:bg-zinc-800 transition-all duration-200 btn-animate",title:t?"Expand sidebar":"Collapse sidebar",children:t?U.jsx(v,{size:16}):U.jsx(w,{size:16})})}),t&&U.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:U.jsx(g,{size:20,className:"text-white"})}),U.jsx("button",{onClick:s,className:"lg:hidden p-3 rounded-xl text-zinc-400 hover:text-zinc-100 hover:bg-zinc-800 transition-all duration-200 btn-animate mobile-action-btn "+(t?"hidden":""),children:U.jsx(y,{size:24})})]}),U.jsxs("nav",{className:`flex-1 ${t?"px-2":"px-3 sm:px-4"} py-4 sm:py-6 space-y-1 sm:space-y-2 overflow-y-auto scroll-container`,children:[x.map(({path:e,label:r,icon:a})=>U.jsxs(l,{to:e,onClick:s,title:t?r:"",className:`\n                group flex items-center ${t?"px-3 py-4 justify-center":"px-4 py-4"} rounded-2xl text-sm sm:text-sm font-medium transition-all duration-200 relative mobile-nav-item\n                ${m(e)?"bg-blue-600 text-white shadow-lg":"text-zinc-400 hover:text-zinc-100 hover:bg-zinc-800"}\n              `,children:[U.jsx(a,{size:24,className:`${t?"":"mr-4"} ${m(e)?"text-white":"text-zinc-500 group-hover:text-zinc-300"} sm:w-5 sm:h-5`}),!t&&U.jsx("div",{className:"flex-1",children:U.jsx("div",{className:"font-medium text-base sm:text-sm "+(m(e)?"text-white":"text-zinc-300"),children:r})})]},e)),3===r?.user_level&&U.jsxs(l,{to:"/admin/users",onClick:s,title:t?"User Management":"",className:`\n                group flex items-center ${t?"px-3 py-4 justify-center":"px-4 py-4"} rounded-2xl text-sm sm:text-sm font-medium transition-all duration-200 relative mobile-nav-item\n                ${m("/admin/users")?"bg-emerald-600 text-white shadow-lg":"text-zinc-400 hover:text-zinc-100 hover:bg-zinc-800"}\n              `,children:[U.jsx(j,{size:24,className:`${t?"":"mr-4"} ${m("/admin/users")?"text-white":"text-zinc-500 group-hover:text-zinc-300"} sm:w-5 sm:h-5`}),!t&&U.jsx("div",{className:"flex-1",children:U.jsx("div",{className:"font-medium text-base sm:text-sm "+(m("/admin/users")?"text-white":"text-zinc-300"),children:"User Management"})})]})]}),U.jsxs("div",{className:`border-t border-zinc-800 ${t?"p-2":"p-4"} safe-area-inset-bottom`,children:[r&&U.jsxs("div",{className:"relative",children:[U.jsx("button",{onClick:()=>{d(!o)},title:t?`${r.name} - Level ${r.user_level}`:"",className:`\n                  group flex items-center w-full ${t?"justify-center p-4":"p-4"} rounded-2xl text-zinc-300 hover:text-zinc-100 hover:bg-zinc-800 transition-all duration-200 relative mobile-nav-item\n                `,children:U.jsxs("div",{className:"flex items-center space-x-3",children:[U.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:U.jsx(S,{size:20,className:"text-white sm:w-4 sm:h-4"})}),!t&&U.jsxs("div",{className:"flex-1 min-w-0",children:[U.jsx("div",{className:"font-medium text-base sm:text-sm text-zinc-100 truncate",children:r.name}),U.jsxs("div",{className:"text-sm sm:text-xs text-zinc-400",children:["Level ",r.user_level," User"]})]})]})}),o&&U.jsx("div",{className:`absolute ${t?"left-16 bottom-0":"right-0 bottom-full"} mb-3 w-64 sm:w-56 bg-zinc-800 rounded-2xl shadow-2xl border border-zinc-600 z-50 fade-in mobile-modal`,children:U.jsxs("div",{className:"p-3 sm:p-2",children:[U.jsxs("div",{className:"px-4 py-3 sm:px-3 sm:py-2 border-b border-zinc-700/50 mb-2",children:[U.jsx("p",{className:"text-base sm:text-sm font-medium text-zinc-100",children:r.name}),U.jsx("p",{className:"text-sm sm:text-xs text-zinc-400",children:r.email}),U.jsxs("p",{className:"text-sm sm:text-xs text-zinc-500 mt-1",children:["Level ",r.user_level," User"]})]}),U.jsxs(l,{to:"/profile",className:"flex items-center space-x-3 px-4 py-3 sm:px-3 sm:py-2 text-base sm:text-sm text-zinc-300 hover:text-zinc-100 hover:bg-zinc-700 rounded-xl transition-all duration-200 mobile-nav-item",onClick:()=>{d(!1),s()},children:[U.jsx(E,{size:20,className:"sm:w-4 sm:h-4"}),U.jsx("span",{children:"Profile"})]}),U.jsxs(l,{to:"/edit-profile",className:"flex items-center space-x-3 px-4 py-3 sm:px-3 sm:py-2 text-base sm:text-sm text-zinc-300 hover:text-zinc-100 hover:bg-zinc-700 rounded-xl transition-all duration-200 mobile-nav-item",onClick:()=>{d(!1),s()},children:[U.jsx(P,{size:20,className:"sm:w-4 sm:h-4"}),U.jsx("span",{children:"Edit Profile"})]}),U.jsxs(l,{to:"/change-password",className:"flex items-center space-x-3 px-4 py-3 sm:px-3 sm:py-2 text-base sm:text-sm text-zinc-300 hover:text-zinc-100 hover:bg-zinc-700 rounded-xl transition-all duration-200 mobile-nav-item",onClick:()=>{d(!1),s()},children:[U.jsx(C,{size:20,className:"sm:w-4 sm:h-4"}),U.jsx("span",{children:"Change Password"})]}),U.jsx("div",{className:"border-t border-zinc-700/50 mt-3 pt-3 sm:mt-2 sm:pt-2",children:U.jsxs("button",{onClick:()=>{n(),d(!1),s()},className:"flex items-center space-x-3 w-full px-4 py-3 sm:px-3 sm:py-2 text-base sm:text-sm text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded-xl transition-all duration-200 mobile-nav-item",children:[U.jsx(L,{size:20,className:"sm:w-4 sm:h-4"}),U.jsx("span",{children:"Sign Out"})]})})]})})]}),!t&&U.jsx("div",{className:"mt-4 pt-4 sm:mt-3 sm:pt-3 border-t border-zinc-700/30",children:U.jsx("p",{className:"text-xs text-zinc-500 px-4 sm:px-3",children:"Â© 2025 Bad Habits Band"})})]})]})})},ee=({children:e})=>{const s=i(),[t,r]=a.useState(!1),[n,l]=a.useState(!1),c="/performance"===s.pathname&&s.search.includes("setlist="),o=()=>{r(!1)};return U.jsxs("div",{className:"flex h-screen bg-zinc-950 overflow-hidden safe-area-inset-top",children:[t&&!c&&U.jsx("div",{className:"fixed inset-0 z-30 bg-black/70 backdrop-blur-sm lg:hidden fade-in",onClick:o}),!c&&U.jsx(Z,{isOpen:t,onClose:o,collapsed:n}),U.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:U.jsxs("main",{className:`flex-1 overflow-x-hidden overflow-y-auto bg-zinc-950 ${c?"":"p-2 sm:p-4 lg:p-6"} relative scroll-container`,children:[!c&&U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"lg:hidden mb-4 safe-area-inset-left",children:U.jsx("button",{onClick:()=>{r(!t)},className:"p-3 rounded-xl text-zinc-400 hover:text-zinc-100 hover:bg-zinc-800 transition-all duration-200 btn-animate mobile-action-btn",children:U.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})}),U.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-zinc-900/20 via-transparent to-zinc-900/20 pointer-events-none"}),U.jsx("div",{className:"relative z-10 max-w-full pt-2 safe-area-inset-bottom",children:e})]}),c&&e]})})]})},se=({children:e})=>{const{user:s,loading:t,initialized:r}=q(),n=i();return a.useEffect(()=>{if(r&&!t&&!s){const e=n.pathname+n.search;e.startsWith("/login")||e.startsWith("/auth/")||e.startsWith("/tos")||e.startsWith("/privacy-policy")||sessionStorage.setItem("redirectAfterLogin",e)}},[r,t,s]),!r||t?U.jsx("div",{className:"flex items-center justify-center min-h-screen bg-zinc-950",children:U.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[U.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),U.jsx("div",{className:"text-lg text-zinc-300",children:"Loading..."})]})}):s?e||U.jsx(c,{}):U.jsx(o,{to:"/login",replace:!0,state:{from:n}})},te=()=>{i();const[e,s]=a.useState(""),[t,r]=a.useState(""),[c,o]=a.useState(""),[m,x]=a.useState(!1),[h,u]=a.useState(!1),[p,b]=a.useState(""),[f,j]=a.useState(!1),[g,v]=a.useState(!1),w=d(),{signIn:y,signInWithGoogle:N,resetPassword:z,user:k}=q();n.useEffect(()=>{if(k){const e=sessionStorage.getItem("redirectAfterLogin")||"/";sessionStorage.removeItem("redirectAfterLogin"),w(e,{replace:!0})}},[k,w]);const _=async e=>{e.preventDefault(),o(""),j(!0);try{await z(p),v(!0)}catch(s){o(s.message)}finally{j(!1)}};return h?g?U.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 px-4",children:U.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-gray-200 dark:border-slate-700 p-6 sm:p-8 w-full max-w-md text-center",children:[U.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Check Your Email"}),U.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:["We've sent a password reset link to ",U.jsx("strong",{children:p})]}),U.jsx("button",{onClick:()=>{u(!1),v(!1),b("")},className:"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:"Back to Login"})]})}):U.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 px-4",children:U.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-gray-200 dark:border-slate-700 p-6 sm:p-8 w-full max-w-md",children:[U.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6 text-center",children:"Forgot Password"}),c&&U.jsx("div",{className:"bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-200 px-4 py-3 rounded-lg mb-4",role:"alert",children:c}),U.jsxs("form",{onSubmit:_,className:"space-y-4",children:[U.jsxs("div",{children:[U.jsx("label",{htmlFor:"forgotEmail",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),U.jsx("input",{type:"email",id:"forgotEmail",value:p,onChange:e=>b(e.target.value),required:!0,className:"block w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base dark:bg-slate-700 dark:text-gray-100 transition-colors"})]}),U.jsx("button",{type:"submit",disabled:f,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:f?"Sending...":"Send Reset Link"}),U.jsx("button",{type:"button",onClick:()=>u(!1),className:"w-full text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 transition-colors",children:"Back to Login"})]})]})}):U.jsxs("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center px-4 sm:px-4 relative safe-area-inset-top safe-area-inset-bottom",children:[U.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/5 via-transparent to-zinc-900/10"}),U.jsx("div",{className:"relative w-full max-w-md sm:max-w-md fade-in",children:U.jsxs("div",{className:"card-modern p-6 sm:p-8 shadow-2xl",children:[U.jsx("div",{className:"text-center mb-6",children:U.jsxs("div",{className:"space-y-2",children:[U.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white tracking-tight",children:"Bad Habits Band"}),U.jsx("p",{className:"text-sm sm:text-base text-zinc-400",children:"Setlist Management Platform"})]})}),c&&U.jsx("div",{className:"bg-red-900/30 border border-red-800/50 text-red-200 px-4 py-3 rounded-xl mb-6 backdrop-blur-sm",role:"alert",children:U.jsxs("div",{className:"flex items-center space-x-2",children:[U.jsx("svg",{className:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),U.jsx("span",{className:"text-sm sm:text-sm",children:c})]})}),U.jsx("hr",{}),U.jsx("br",{}),U.jsxs("form",{onSubmit:async s=>{s.preventDefault(),o(""),x(!0);try{await y(e,t),w("/",{replace:!0})}catch(r){o(r.message)}finally{x(!1)}},className:"space-y-5 sm:space-y-4",children:[U.jsxs("button",{type:"button",onClick:async()=>{o(""),x(!0);try{await N()}catch(e){o(e.message)}finally{x(!1)}},disabled:m,className:"w-full flex justify-center items-center py-4 sm:py-3 px-4 border border-zinc-700 rounded-xl text-base sm:text-base font-medium text-zinc-200 bg-zinc-800 hover:bg-zinc-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-zinc-900 disabled:opacity-50 disabled:cursor-not-allowed btn-animate mb-6 mobile-form-button",children:[U.jsxs("svg",{className:"w-6 h-6 sm:w-5 sm:h-5 mr-3",viewBox:"0 0 24 24",children:[U.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),U.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),U.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),U.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),U.jsxs("div",{className:"relative",children:[U.jsx("div",{className:"absolute inset-0 flex items-center",children:U.jsx("div",{className:"w-full border-t border-zinc-600"})}),U.jsx("div",{className:"relative flex justify-center text-sm",children:U.jsx("span",{className:"px-4 sm:px-4 bg-zinc-800 text-zinc-400 rounded-lg text-base sm:text-sm",children:"Or continue with email"})})]}),U.jsxs("div",{className:"space-y-5 sm:space-y-4",children:[U.jsxs("div",{children:[U.jsx("label",{htmlFor:"email",className:"block text-base sm:text-sm font-medium text-zinc-300 mb-2",children:"Email Address"}),U.jsx("input",{type:"email",id:"email",value:e,onChange:e=>s(e.target.value),required:!0,className:"input-modern",placeholder:"Enter your email"})]}),U.jsxs("div",{children:[U.jsx("label",{htmlFor:"password",className:"block text-base sm:text-sm font-medium text-zinc-300 mb-2",children:"Password"}),U.jsx("input",{type:"password",id:"password",value:t,onChange:e=>r(e.target.value),required:!0,className:"input-modern",placeholder:"Enter your password"})]})]}),U.jsx("button",{type:"submit",disabled:m,className:"w-full flex justify-center items-center py-4 sm:py-3 px-4 rounded-xl text-base sm:text-base font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed btn-animate shadow-lg mobile-form-button",children:m?U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"animate-spin rounded-full h-6 w-6 sm:h-5 sm:w-5 border-b-2 border-white mr-2"}),"Signing in..."]}):U.jsxs(U.Fragment,{children:[U.jsx("svg",{className:"w-6 h-6 sm:w-5 sm:h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Sign In"]})}),U.jsxs("div",{className:"flex flex-col space-y-4 sm:space-y-3 text-center pt-5 sm:pt-4 border-t border-zinc-700",children:[U.jsx("button",{type:"button",onClick:()=>u(!0),className:"text-base sm:text-sm text-zinc-400 hover:text-blue-400 transition-colors p-2",children:"Forgot your password?"}),U.jsxs(l,{to:"/auth/magic-link",className:"text-base sm:text-sm text-blue-400 hover:text-blue-300 transition-colors font-medium inline-flex items-center justify-center p-2",children:[U.jsx("svg",{className:"w-5 h-5 sm:w-4 sm:h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Sign in with magic link"]})]})]})]})})]})},re=()=>{const[e,s]=a.useState(""),[t,r]=a.useState(!1),[n,i]=a.useState(!1),[c,o]=a.useState("");d();return n?U.jsx("div",{className:"flex items-center justify-center min-h-screen bg-zinc-950 px-4",children:U.jsxs("div",{className:"card-modern p-6 sm:p-8 w-full max-w-md text-center fade-in",children:[U.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:U.jsx(I,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),U.jsx("h2",{className:"text-2xl font-bold text-zinc-100 mb-4",children:"Check Your Email"}),U.jsxs("p",{className:"text-zinc-300 mb-6",children:["We've sent a magic link to ",U.jsx("strong",{children:e}),". Click the link in your email to sign in."]}),U.jsxs(l,{to:"/login",className:"inline-flex items-center text-blue-400 hover:text-blue-300 transition-colors font-medium",children:[U.jsx(T,{size:16,className:"mr-2"}),"Back to Login"]})]})}):U.jsx("div",{className:"flex items-center justify-center min-h-screen bg-zinc-950 px-4",children:U.jsxs("div",{className:"card-modern p-6 sm:p-8 w-full max-w-md fade-in",children:[U.jsxs("div",{className:"text-center mb-6",children:[U.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:U.jsx(I,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),U.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Magic Link Login"}),U.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Enter your email to receive a login link"})]}),c&&U.jsx("div",{className:"bg-red-900/30 border border-red-800/50 text-red-200 px-4 py-3 rounded-xl mb-6 backdrop-blur-sm",role:"alert",children:c}),U.jsxs("form",{onSubmit:async s=>{s.preventDefault(),o(""),r(!0);try{const{error:s}=await u.auth.signInWithOtp({email:e,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(s)throw new Error(s.message);i(!0)}catch(t){o(t.message)}finally{r(!1)}},className:"space-y-4",children:[U.jsxs("div",{children:[U.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),U.jsx("input",{type:"email",id:"email",value:e,onChange:e=>s(e.target.value),required:!0,className:"input-modern",placeholder:"Enter your email address"})]}),U.jsx("button",{type:"submit",disabled:t,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t?U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending Magic Link..."]}):U.jsxs(U.Fragment,{children:[U.jsx(I,{size:16,className:"mr-2"}),"Send Magic Link"]})})]}),U.jsx("div",{className:"mt-6 text-center",children:U.jsxs(l,{to:"/login",className:"inline-flex items-center text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 transition-colors",children:[U.jsx(T,{size:16,className:"mr-2"}),"Back to Login"]})})]})})},ae=()=>{const e=d();return a.useEffect(()=>{(async()=>{try{const{data:{session:s},error:t}=await u.auth.getSession();if(t)return void e("/login?error="+encodeURIComponent(t.message));if(s?.user){const{data:t,error:r}=await u.from("users").select("*").eq("id",s.user.id).single();r&&"PGRST116"===r.code?e("/auth/invite-complete"):t?.name&&""!==t.name.trim()?e("/"):e("/auth/invite-complete")}else e("/login")}catch(s){e("/login?error="+encodeURIComponent(s.message))}})()},[e]),U.jsx("div",{className:"flex items-center justify-center min-h-screen bg-zinc-950",children:U.jsxs("div",{className:"text-center",children:[U.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),U.jsx("p",{className:"text-zinc-300",children:"Completing sign in..."})]})})},ne=()=>{m();const e=d(),[s,t]=a.useState(!1),[r,n]=a.useState(""),[i,l]=a.useState({name:"",role:"",password:"",confirmPassword:""});a.useEffect(()=>{(async()=>{try{const{data:{user:e},error:s}=await u.auth.getUser();if(s)throw s;e?.user_metadata&&l(s=>({...s,name:e.user_metadata.full_name||e.user_metadata.name||"",role:e.user_metadata.role||""}))}catch(e){l(e=>({...e,name:"",role:""}))}})()},[]);const c=e=>{const{name:s,value:t}=e.target;l(e=>({...e,[s]:t}))};return U.jsx("div",{className:"flex items-center justify-center min-h-screen bg-zinc-950 px-4",children:U.jsxs("div",{className:"card-modern p-6 sm:p-8 w-full max-w-md fade-in",children:[U.jsxs("div",{className:"text-center mb-6",children:[U.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:U.jsx(S,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),U.jsx("h2",{className:"text-2xl font-bold text-zinc-100",children:"Complete Your Profile"}),U.jsx("p",{className:"text-zinc-300 mt-2",children:"Set up your account to get started"})]}),r&&U.jsx("div",{className:"bg-red-900/30 border border-red-800/50 text-red-200 px-4 py-3 rounded-xl mb-6 backdrop-blur-sm",role:"alert",children:r}),U.jsxs("form",{onSubmit:async s=>{if(s.preventDefault(),n(""),i.password===i.confirmPassword)if(i.password.length<6)n("Password must be at least 6 characters long");else{t(!0);try{const{error:s}=await u.auth.updateUser({password:i.password});if(s)throw new Error(s.message);const{data:{user:t}}=await u.auth.getUser();if(t){const{error:e}=await u.from("users").upsert({id:t.id,email:t.email,name:i.name,role:i.role,user_level:t.user_metadata.user_level||1})}e("/",{replace:!0})}catch(r){n(r.message)}finally{t(!1)}}else n("Passwords do not match")},className:"space-y-4",children:[U.jsxs("div",{children:[U.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-zinc-300 mb-2",children:"Full Name"}),U.jsx("input",{type:"text",id:"name",name:"name",value:i.name,onChange:c,required:!0,className:"input-modern"})]}),U.jsxs("div",{children:[U.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-zinc-300 mb-2",children:"Role"}),U.jsxs("select",{id:"role",name:"role",value:i.role,onChange:c,className:"input-modern",children:[U.jsx("option",{value:"",children:"Select a role"}),U.jsx("option",{value:"Bass Guitar",children:"Bass Guitar"}),U.jsx("option",{value:"Drums",children:"Drums"}),U.jsx("option",{value:"Lead Guitar",children:"Lead Guitar"}),U.jsx("option",{value:"Rhythm Guitar",children:"Rhythm Guitar"}),U.jsx("option",{value:"Keyboard",children:"Keyboard"}),U.jsx("option",{value:"Vocals",children:"Vocals"}),U.jsx("option",{value:"Sound Engineer",children:"Sound Engineer"}),U.jsx("option",{value:"Other",children:"Other"})]})]}),U.jsxs("div",{children:[U.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-zinc-300 mb-2",children:"Password"}),U.jsx("input",{type:"password",id:"password",name:"password",value:i.password,onChange:c,required:!0,className:"input-modern"})]}),U.jsxs("div",{children:[U.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-zinc-300 mb-2",children:"Confirm Password"}),U.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:i.confirmPassword,onChange:c,required:!0,className:"input-modern"})]}),U.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Setting up account..."]}):U.jsxs(U.Fragment,{children:[U.jsx(S,{size:16,className:"mr-2"}),"Complete Setup"]})})]})]})})},ie=()=>{const[e]=m(),s=d(),[t,r]=a.useState("loading"),[n,i]=a.useState("");return a.useEffect(()=>{(async()=>{try{const t=e.get("token"),a=e.get("type");if(!t)return r("error"),void i("Invalid confirmation link");if("email_change"===a){const{error:e}=await u.auth.verifyOtp({token_hash:t,type:"email_change"});if(e)throw e;r("success"),setTimeout(()=>s("/profile"),3e3)}else{const{error:e}=await u.auth.verifyOtp({token_hash:t,type:"signup"});if(e)throw e;r("success"),setTimeout(()=>s("/"),3e3)}}catch(t){r("error"),i(t.message)}})()},[e,s]),"loading"===t?U.jsx("div",{className:"flex items-center justify-center min-h-screen bg-zinc-950",children:U.jsxs("div",{className:"text-center",children:[U.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),U.jsx("p",{className:"text-zinc-300",children:"Confirming your email..."})]})}):"success"===t?U.jsx("div",{className:"flex items-center justify-center min-h-screen bg-zinc-950 px-4",children:U.jsxs("div",{className:"card-modern p-6 sm:p-8 w-full max-w-md text-center fade-in",children:[U.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:U.jsx(O,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),U.jsx("h2",{className:"text-2xl font-bold text-zinc-100 mb-4",children:"Email Confirmed!"}),U.jsx("p",{className:"text-zinc-300 mb-6",children:"Your email has been successfully confirmed. You'll be redirected shortly."}),U.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})]})}):U.jsx("div",{className:"flex items-center justify-center min-h-screen bg-zinc-950 px-4",children:U.jsxs("div",{className:"card-modern p-6 sm:p-8 w-full max-w-md text-center fade-in",children:[U.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:U.jsx(R,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),U.jsx("h2",{className:"text-2xl font-bold text-zinc-100 mb-4",children:"Confirmation Failed"}),U.jsx("p",{className:"text-zinc-300 mb-6",children:n||"There was an error confirming your email. The link may be expired or invalid."}),U.jsxs("button",{onClick:()=>s("/login"),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:[U.jsx(I,{size:16,className:"mr-2"}),"Back to Login"]})]})})},le=()=>{const[e]=m(),s=d(),[t,r]=a.useState(!1),[n,i]=a.useState(""),[l,c]=a.useState(!1),[o,x]=a.useState({password:"",confirmPassword:""});a.useEffect(()=>{const s=e.get("access_token"),t=e.get("refresh_token");s&&t&&u.auth.setSession({access_token:s,refresh_token:t})},[e]);const h=e=>{const{name:s,value:t}=e.target;x(e=>({...e,[s]:t}))};return l?U.jsx("div",{className:"flex items-center justify-center min-h-screen bg-zinc-950 px-4",children:U.jsxs("div",{className:"card-modern p-6 sm:p-8 w-full max-w-md text-center fade-in",children:[U.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:U.jsx(O,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),U.jsx("h2",{className:"text-2xl font-bold text-zinc-100 mb-4",children:"Password Updated!"}),U.jsx("p",{className:"text-zinc-300 mb-6",children:"Your password has been successfully updated. You'll be redirected to the dashboard."}),U.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})]})}):U.jsx("div",{className:"flex items-center justify-center min-h-screen bg-zinc-950 px-4",children:U.jsxs("div",{className:"card-modern p-6 sm:p-8 w-full max-w-md fade-in",children:[U.jsxs("div",{className:"text-center mb-6",children:[U.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:U.jsx(C,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),U.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Reset Your Password"}),U.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Enter your new password below"})]}),n&&U.jsx("div",{className:"bg-red-900/30 border border-red-800/50 text-red-200 px-4 py-3 rounded-xl mb-6 backdrop-blur-sm",role:"alert",children:n}),U.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),i(""),o.password===o.confirmPassword)if(o.password.length<6)i("Password must be at least 6 characters long");else{r(!0);try{const{error:e}=await u.auth.updateUser({password:o.password});if(e)throw e;c(!0),setTimeout(()=>s("/"),3e3)}catch(t){i(t.message)}finally{r(!1)}}else i("Passwords do not match")},className:"space-y-4",children:[U.jsxs("div",{children:[U.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"New Password"}),U.jsx("input",{type:"password",id:"password",name:"password",value:o.password,onChange:h,required:!0,className:"input-modern"})]}),U.jsxs("div",{children:[U.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm New Password"}),U.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:o.confirmPassword,onChange:h,required:!0,className:"input-modern"})]}),U.jsx("button",{type:"submit",disabled:t,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:t?U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating Password..."]}):U.jsxs(U.Fragment,{children:[U.jsx(C,{size:16,className:"mr-2"}),"Update Password"]})})]})]})})},ce=()=>U.jsxs("div",{className:"min-h-screen bg-zinc-950",children:[U.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-zinc-900/20 via-transparent to-zinc-900/20 pointer-events-none"}),U.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto py-12 px-4",children:[U.jsx("div",{className:"card-modern p-6 mb-8",children:U.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[U.jsx(l,{to:"/",className:"p-2 text-zinc-400 hover:text-zinc-100 hover:bg-zinc-700 transition-all duration-200 rounded-xl btn-animate",children:U.jsx(T,{size:20})}),U.jsxs("div",{className:"flex items-center space-x-3",children:[U.jsx("div",{className:"w-12 h-12 bg-blue-500/10 rounded-2xl flex items-center justify-center",children:U.jsx(D,{className:"h-6 w-6 text-blue-400"})}),U.jsxs("div",{children:[U.jsx("h1",{className:"text-2xl font-bold text-zinc-100",children:"Terms of Service"}),U.jsx("p",{className:"text-zinc-400",children:"Bad Habits Setlist Management System"})]})]})]})}),U.jsxs("div",{className:"card-modern p-8 space-y-6 prose prose-invert max-w-none",children:[U.jsxs("section",{children:[U.jsx("h2",{className:"text-2xl font-semibold text-zinc-100",children:"1. Acceptance of Terms"}),U.jsx("p",{className:"text-zinc-300 leading-relaxed",children:'By accessing or using the Bad Habits Setlist Management System ("Service"), you agree to be bound by these Terms of Use. If you do not agree, do not use the Service.'})]}),U.jsxs("section",{children:[U.jsx("h2",{className:"text-2xl font-semibold text-zinc-100",children:"2. Eligibility"}),U.jsx("p",{className:"text-zinc-300 leading-relaxed",children:"The Service is intended solely for members of Bad Habits. You must authenticate via Google SSO using a band member account."})]}),U.jsxs("section",{children:[U.jsx("h2",{className:"text-2xl font-semibold text-zinc-100",children:"3. Use of Service"}),U.jsxs("ul",{className:"list-disc list-inside text-zinc-300 space-y-2",children:[U.jsx("li",{children:"You may use the Service to manage songs, setlists, and performance details."}),U.jsx("li",{children:"You agree not to modify, distribute, or reproduce any part of the Service outside band activities."})]})]}),U.jsxs("section",{children:[U.jsx("h2",{className:"text-2xl font-semibold text-zinc-100",children:"4. Intellectual Property"}),U.jsx("p",{className:"text-zinc-300 leading-relaxed",children:"All content and software are the property of Bad Habits or its licensors. Unauthorized use is prohibited."})]}),U.jsxs("section",{children:[U.jsx("h2",{className:"text-2xl font-semibold text-zinc-100",children:"5. Disclaimer of Warranties"}),U.jsx("p",{className:"text-zinc-300 leading-relaxed",children:'The Service is provided "as is" without warranties of any kind, either express or implied.'})]}),U.jsxs("section",{children:[U.jsx("h2",{className:"text-2xl font-semibold text-zinc-100",children:"6. Limitation of Liability"}),U.jsx("p",{className:"text-zinc-300 leading-relaxed",children:"In no event shall Bad Habits be liable for any indirect, incidental, or consequential damages arising out of use of the Service."})]}),U.jsxs("section",{children:[U.jsx("h2",{className:"text-2xl font-semibold text-zinc-100",children:"7. Changes to Terms"}),U.jsx("p",{className:"text-zinc-300 leading-relaxed",children:"Bad Habits may modify these terms at any time. Updated terms take effect when posted."})]}),U.jsxs("section",{children:[U.jsx("h2",{className:"text-2xl font-semibold text-zinc-100",children:"8. Governing Law"}),U.jsx("p",{className:"text-zinc-300 leading-relaxed",children:"These Terms are governed by the laws of the state where the band is based."})]}),U.jsxs("div",{className:"mt-12 pt-8 border-t border-zinc-700 flex items-center justify-between",children:[U.jsx("p",{className:"text-sm text-zinc-400",children:"Last updated: July 23, 2025"}),U.jsx(l,{to:"/privacy-policy",className:"text-blue-400 hover:text-blue-300 transition-colors text-sm font-medium",children:"View Privacy Policy"})]})]})]})]}),oe=()=>U.jsxs("div",{className:"min-h-screen bg-zinc-950",children:[U.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-zinc-900/20 via-transparent to-zinc-900/20 pointer-events-none"}),U.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto py-12 px-4",children:[U.jsx("div",{className:"card-modern p-6 mb-8",children:U.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[U.jsx(l,{to:"/",className:"p-2 text-zinc-400 hover:text-zinc-100 hover:bg-zinc-700 transition-all duration-200 rounded-xl btn-animate",children:U.jsx(T,{size:20})}),U.jsxs("div",{className:"flex items-center space-x-3",children:[U.jsx("div",{className:"w-12 h-12 bg-green-500/10 rounded-2xl flex items-center justify-center",children:U.jsx(A,{className:"h-6 w-6 text-green-400"})}),U.jsxs("div",{children:[U.jsx("h1",{className:"text-2xl font-bold text-zinc-100",children:"Privacy Policy"}),U.jsx("p",{className:"text-zinc-400",children:"Bad Habits Setlist Management System"})]})]})]})}),U.jsxs("div",{className:"card-modern p-8 space-y-6 prose prose-invert max-w-none",children:[U.jsxs("section",{children:[U.jsx("h2",{className:"text-2xl font-semibold text-zinc-100",children:"1. Information We Collect"}),U.jsx("p",{className:"text-zinc-300 leading-relaxed",children:"We collect basic account information when you authenticate via Google SSO, including your name and email address."})]}),U.jsxs("section",{children:[U.jsx("h2",{className:"text-2xl font-semibold text-zinc-100",children:"2. How We Use Your Information"}),U.jsxs("ul",{className:"list-disc list-inside text-zinc-300 space-y-2",children:[U.jsx("li",{children:"To authenticate and authorize band members to access the Service."}),U.jsx("li",{children:"To personalize your experience within the app."})]})]}),U.jsxs("section",{children:[U.jsx("h2",{className:"text-2xl font-semibold text-zinc-100",children:"3. Data Sharing"}),U.jsx("p",{className:"text-zinc-300 leading-relaxed",children:"We do not share your personal information with third parties except as required by law or to comply with Googleâ€™s SSO policies."})]}),U.jsxs("section",{children:[U.jsx("h2",{className:"text-2xl font-semibold text-zinc-100",children:"4. Data Retention"}),U.jsx("p",{className:"text-zinc-300 leading-relaxed",children:"We retain your information as long as your account exists or as needed to provide the Service."})]}),U.jsxs("section",{children:[U.jsx("h2",{className:"text-2xl font-semibold text-zinc-100",children:"5. Security"}),U.jsx("p",{className:"text-zinc-300 leading-relaxed",children:"We implement reasonable security measures to protect your information, but cannot guarantee absolute security."})]}),U.jsxs("section",{children:[U.jsx("h2",{className:"text-2xl font-semibold text-zinc-100",children:"6. Your Rights"}),U.jsx("ul",{className:"list-disc list-inside text-zinc-300 space-y-2",children:U.jsx("li",{children:"You may request access to or deletion of your personal data by contacting the band's admin."})})]}),U.jsxs("section",{children:[U.jsx("h2",{className:"text-2xl font-semibold text-zinc-100",children:"7. Changes to This Policy"}),U.jsx("p",{className:"text-zinc-300 leading-relaxed",children:"We may update this Privacy Policy; changes take effect when posted."})]}),U.jsxs("section",{children:[U.jsx("h2",{className:"text-2xl font-semibold text-zinc-100",children:"8. Contact"}),U.jsx("p",{className:"text-zinc-300 leading-relaxed",children:"For privacy inquiries, contact the band's admin via email address associated with your account."})]}),U.jsxs("div",{className:"mt-12 pt-8 border-t border-zinc-700 flex items-center justify-between",children:[U.jsx("p",{className:"text-sm text-zinc-400",children:"Last updated: July 23, 2025"}),U.jsx(l,{to:"/tos",className:"text-blue-400 hover:text-blue-300 transition-colors text-sm font-medium",children:"View Terms of Use"})]})]})]})]}),de=()=>{const e=d(),{user:s,loading:t}=q();return a.useEffect(()=>{const t=setTimeout(()=>{e(s?"/":"/login",{replace:!0})},5e3);return()=>clearTimeout(t)},[e,s]),t?U.jsx("div",{className:"flex items-center justify-center min-h-screen bg-zinc-950",children:U.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):U.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center px-4",children:U.jsxs("div",{className:"card-modern p-8 w-full max-w-md text-center fade-in",children:[U.jsx("div",{className:"w-20 h-20 bg-zinc-800 rounded-3xl flex items-center justify-center mx-auto mb-6",children:U.jsx("div",{className:"text-6xl",children:"ðŸŽµ"})}),U.jsx("h1",{className:"text-3xl font-bold text-zinc-100 mb-4",children:"Page Not Found"}),U.jsx("p",{className:"text-zinc-300 mb-6",children:"Sorry, the page you're looking for doesn't exist or has been moved."}),U.jsxs("div",{className:"space-y-3",children:[U.jsxs("button",{onClick:()=>e(s?"/":"/login",{replace:!0}),className:"w-full inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all btn-animate shadow-lg font-medium",children:[U.jsx(f,{size:20,className:"mr-2"}),s?"Go to Dashboard":"Go to Login"]}),U.jsxs("button",{onClick:()=>window.history.back(),className:"w-full inline-flex items-center justify-center px-6 py-3 border border-zinc-600 text-zinc-300 rounded-xl hover:bg-zinc-700 transition-all btn-animate font-medium",children:[U.jsx(T,{size:20,className:"mr-2"}),"Go Back"]})]}),U.jsx("p",{className:"text-xs text-zinc-500 mt-6",children:"You'll be automatically redirected in 5 seconds..."})]})})},me=n.lazy(()=>e(()=>import("./Dashboard-B6td6xMk.js"),__vite__mapDeps([3,1,2,0,4,5,6]))),xe=n.lazy(()=>e(()=>import("./ManageSongs-BX220djE.js"),__vite__mapDeps([7,2,0,1,6]))),he=n.lazy(()=>e(()=>import("./SongViewPage-B2F6rq3q.js"),__vite__mapDeps([8,2,0,1,6]))),ue=n.lazy(()=>e(()=>import("./SongFormPage-CpTxhLS8.js"),__vite__mapDeps([9,2,10,0,1,6]))),pe=n.lazy(()=>e(()=>import("./ManageSetlists-Bm2rFZjz.js"),__vite__mapDeps([11,2,0,1,4,5,6]))),be=n.lazy(()=>e(()=>import("./ManageSongCollections-CADfPqey.js"),__vite__mapDeps([12,2,0,1,6]))),fe=n.lazy(()=>e(()=>import("./SetlistFormPage-PnLbgW5L.js"),__vite__mapDeps([13,2,0,1,6]))),je=n.lazy(()=>e(()=>import("./SetlistDetailPage-BViRWveZ.js"),__vite__mapDeps([14,2,0,1,6]))),ge=n.lazy(()=>e(()=>import("./SetFormPage-LUHG49k3.js"),__vite__mapDeps([15,2,0,1,16,6,17]))),ve=n.lazy(()=>e(()=>import("./SongCollectionFormPage-CI_b-xST.js"),__vite__mapDeps([18,2,0,1,16,6,17]))),we=n.lazy(()=>e(()=>import("./SongCollectionDetailPage-BysMk0pd.js"),__vite__mapDeps([19,2,0,1,17,6]))),ye=n.lazy(()=>e(()=>import("./SetDetailPage-BAyB4MNI.js"),__vite__mapDeps([20,2,0,1,17,6]))),Ne=n.lazy(()=>e(()=>import("./EditProfile-BtX1j5z5.js"),__vite__mapDeps([21,2,0,1,22,6]))),ze=n.lazy(()=>e(()=>import("./UserManagement-Cx2JHYJ5.js"),__vite__mapDeps([23,2,0,1,22,6]))),ke=n.lazy(()=>e(()=>import("./Profile-C6W3ACBa.js"),__vite__mapDeps([24,2,1,0,6]))),_e=n.lazy(()=>e(()=>import("./ChangePassword-Cxse00ui.js"),__vite__mapDeps([25,2,1,0,6]))),Se=n.lazy(()=>e(()=>import("./PerformanceMode-0K8o_4eU.js"),__vite__mapDeps([26,2,0,1,6]))),Ee=()=>U.jsx("div",{className:"flex items-center justify-center min-h-screen bg-zinc-950",children:U.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[U.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),U.jsx("div",{className:"text-lg text-zinc-300",children:"Loading..."})]})}),Pe=({children:e})=>U.jsx(X,{children:U.jsx(a.Suspense,{fallback:U.jsx(Ee,{}),children:e})}),Ce=x([{path:"/login",element:U.jsx(te,{})},{path:"/auth/magic-link",element:U.jsx(re,{})},{path:"/auth/callback",element:U.jsx(ae,{})},{path:"/auth/invite-complete",element:U.jsx(ne,{})},{path:"/auth/confirm-email",element:U.jsx(ie,{})},{path:"/auth/reset-password",element:U.jsx(le,{})},{path:"/tos",element:U.jsx(ce,{})},{path:"/privacy-policy",element:U.jsx(oe,{})},{path:"/",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(me,{})})})})},{path:"/songs",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(xe,{})})})})},{path:"/songs/:songId",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(he,{})})})})},{path:"/songs/add",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(ue,{})})})})},{path:"/songs/edit/:songId",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(ue,{})})})})},{path:"/setlists",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(pe,{})})})})},{path:"/setlists/add",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(fe,{})})})})},{path:"/setlists/:setlistId",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(je,{})})})})},{path:"/setlists/edit/:setlistId",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(fe,{})})})})},{path:"/setlists/:setlistId/sets/add",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(ge,{})})})})},{path:"/setlists/:setlistId/sets/:setId/edit",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(ge,{})})})})},{path:"/song-collections",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(be,{})})})})},{path:"/song-collections/add",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(ve,{})})})})},{path:"/song-collections/edit/:collectionId",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(ve,{})})})})},{path:"/song-collections/:collectionId",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(we,{})})})})},{path:"/setlists/:setlistId/sets/:setId",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(ye,{})})})})},{path:"/profile",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(ke,{})})})})},{path:"/edit-profile",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(Ne,{})})})})},{path:"/change-password",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(_e,{})})})})},{path:"/admin/users",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(ze,{})})})})},{path:"/performance",element:U.jsx(se,{children:U.jsx(ee,{children:U.jsx(Pe,{children:U.jsx(Se,{})})})})},{path:"*",element:U.jsx(de,{})}],{future:{v7_startTransition:!0,v7_relativeSplatPath:!0}});G.createRoot(document.getElementById("root")).render(U.jsx(X,{children:U.jsx(Y,{children:U.jsx(Q,{children:U.jsx(h,{router:Ce})})})}));export{q as a,U as j,J as u};
