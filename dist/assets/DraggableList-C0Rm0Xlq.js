import{j as e}from"./index-Babt8UfR.js";import{r as s}from"./vendor-react-ET7pSeaL.js";import{G as t,r as l,s as a,o as r,D as n,w as i,x as o,v as c}from"./vendor-ui-CCR3b1TD.js";const d=({items:n,onReorder:i,onRemove:o,onMoveToSet:c,availableSets:d=[],type:x="songs",showMoveToSet:m=!1})=>{const[h,p]=s.useState(!1),[u,b]=s.useState(null);return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-zinc-100",children:"Songs in Set"}),e.jsx("button",{onClick:()=>{p(!h),b(null)},className:"px-4 py-2 rounded-xl transition-colors font-medium "+(h?"bg-amber-600 text-white hover:bg-amber-700":"bg-zinc-700 text-zinc-300 hover:bg-zinc-600"),children:h?"Done":"Reorder"})]}),n.map((s,x)=>e.jsx("div",{className:`p-4 rounded-xl border transition-all ${u===x?"bg-blue-600 border-blue-500 text-white":"bg-zinc-800 border-zinc-700 text-zinc-300"} ${h?"cursor-pointer":""}`,onClick:()=>((e,s)=>{h&&b(u===s?null:s)})(0,x),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[h&&e.jsx(t,{className:"h-5 w-5 text-zinc-400"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-base font-medium truncate",children:s.title}),e.jsxs("p",{className:"text-sm opacity-75 truncate",children:[s.original_artist,(s.key_signature||null!==s.tempo&&void 0!==s.tempo)&&e.jsxs(e.Fragment,{children:[s.key_signature&&` • ${s.key_signature}`,null!==s.tempo&&void 0!==s.tempo&&` • ${s.tempo} BPM`]})]}),s.performance_note&&e.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[e.jsx("svg",{className:"w-3 h-3 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),e.jsx("span",{className:"text-amber-300 text-xs",children:s.performance_note})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[h&&u===x&&e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),(e=>{e>0&&i(e,e-1)})(x)},disabled:0===x,className:"p-2 bg-blue-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(l,{size:16})}),e.jsx("button",{onClick:e=>{e.stopPropagation(),(e=>{e<n.length-1&&i(e,e+1)})(x)},disabled:x===n.length-1,className:"p-2 bg-blue-600 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(a,{size:16})})]}),!h&&e.jsxs(e.Fragment,{children:[m&&d.length>0&&e.jsxs("select",{onChange:e=>{e.target.value&&(c(s.id,e.target.value),e.target.value="")},className:"text-sm bg-zinc-700 border border-zinc-600 rounded-lg px-2 py-1 text-zinc-300",defaultValue:"",children:[e.jsx("option",{value:"",children:"Move to..."}),d.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx("button",{onClick:()=>o(x),className:"p-2 text-red-400 hover:text-red-300 transition-colors",children:e.jsx(r,{size:16})})]})]})]})},`${s.id}-${x}`)),0===n.length&&e.jsx("div",{className:"text-center py-8",children:e.jsxs("p",{className:"text-zinc-400",children:["No ",x," yet"]})})]})},x=({items:s,onReorder:l,onRemove:a,onMoveToSet:x,availableSets:m=[],type:h="songs",showMoveToSet:p=!1})=>{if("undefined"!=typeof window&&window.innerWidth<768)return e.jsx(d,{items:s,onReorder:l,onRemove:a,onMoveToSet:x,availableSets:m,type:h,showMoveToSet:p});return e.jsx(n,{onDragEnd:e=>{if(!e.destination)return;const s=e.source.index,t=e.destination.index;s!==t&&l(s,t)},children:e.jsx(i,{droppableId:"songs-list",children:(l,n)=>e.jsxs("div",{...l.droppableProps,ref:l.innerRef,className:`space-y-2 ${n.isDraggingOver?"bg-blue-50 dark:bg-blue-900/20":""} transition-colors rounded-lg p-2`,children:[s.map((s,l)=>e.jsx(o,{draggableId:s.id.toString(),index:l,children:(n,i)=>e.jsxs("div",{ref:n.innerRef,...n.draggableProps,className:`flex items-center justify-between p-4 bg-slate-700 rounded-lg border ${i.isDragging?"border-blue-500 shadow-lg":"border-slate-600 hover:bg-slate-600"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[e.jsx("div",{...n.dragHandleProps,className:"flex items-center text-slate-400 hover:text-slate-300 cursor-grab active:cursor-grabbing",children:e.jsx(t,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-100 truncate",children:s.title}),e.jsxs("p",{className:"text-sm text-slate-400 truncate",children:[s.original_artist,(s.key_signature||null!==s.tempo&&void 0!==s.tempo)&&e.jsxs(e.Fragment,{children:[s.key_signature&&` • ${s.key_signature}`,null!==s.tempo&&void 0!==s.tempo&&` • ${s.tempo} BPM`]}),s.performance_note&&e.jsxs("span",{className:"flex items-center space-x-1 mt-1",children:[e.jsx("svg",{className:"w-3 h-3 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),e.jsx("span",{className:"text-amber-300 text-xs",children:s.performance_note})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[p&&m.length>0&&e.jsxs("div",{className:"relative group",children:[e.jsx("button",{className:"p-2 text-blue-400 hover:text-blue-300 transition-colors",title:"Move to another set",children:e.jsx(c,{size:16})}),e.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-slate-800 border border-slate-600 rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity z-10",children:e.jsxs("div",{className:"py-1",children:[e.jsx("div",{className:"px-3 py-2 text-xs text-slate-400 border-b border-slate-600",children:"Move to set:"}),m.map(t=>e.jsx("button",{onClick:()=>x(s.id,t.id),className:"w-full text-left px-3 py-2 text-sm text-slate-200 hover:bg-slate-700 transition-colors",children:t.name},t.id))]})})]}),e.jsx("button",{onClick:()=>a(l),className:"p-2 text-red-400 hover:text-red-300 transition-colors",title:"Remove from set",children:e.jsx(r,{size:16})})]})]})},s.id)),l.placeholder,0===s.length&&e.jsx("div",{className:"text-center py-8",children:e.jsxs("p",{className:"text-slate-400",children:["No ",h," yet"]})})]})})})};export{x as D};
